(()=>{"use strict";var e={n:o=>{var t=o&&o.__esModule?()=>o.default:()=>o;return e.d(t,{a:t}),t},d:(o,t)=>{for(var a in t)e.o(t,a)&&!e.o(o,a)&&Object.defineProperty(o,a,{enumerable:!0,get:t[a]})},o:(e,o)=>Object.prototype.hasOwnProperty.call(e,o)};const o=window.wp.i18n,t=window.jQuery;var a=e.n(t);function d(e){return e.closest(".product.product-type-accommodation-booking").length>0}function n(e){return(e=s(e)).closest("form")}function s(e){return a()(e)}function c(e){let o=null;return o="end"===e.data("start_or_end_date")?"start":"end",o}!function(e){const t=window.wc_bookings.hooks;t.addFilter("wc_bookings_date_picker_get_day_attributes","wc_accommodation_booking/booking_form",((e,{booking_data:t,custom_data:a,date_picker:s,resource_id:c,date:_})=>{const i=n(s),l=`${_.getFullYear()}-${_.getMonth()+1}-${_.getDate()}`;return d(i)?(t.fully_booked_start_days&&t.fully_booked_start_days[l]&&("automatic"===a.resources_assignment||t.fully_booked_start_days[l][0]||t.fully_booked_start_days[l][c])&&e.class.push("fully_booked_start_days"),t.fully_booked_end_days&&t.fully_booked_end_days[l]&&("automatic"===a.resources_assignment||t.fully_booked_end_days[l][0]||t.fully_booked_end_days[l][c])&&e.class.push("fully_booked_end_days"),e.class.indexOf("fully_booked_start_days")>-1?e.title=(0,o.__)("Available for check-out only.","woocommerce-accommodation-bookings"):e.class.indexOf("fully_booked_end_days")>-1&&(e.title=(0,o.__)("Available for check-in only.","woocommerce-accommodation-bookings")),e):e})),t.addAction("wc_bookings_date_picker_refreshed","wc_accommodation_booking/booking_form",(({date_picker:e})=>{const t=n(e);d(t)&&(t.find("fieldset").attr("data-content",(0,o.__)("Select check-in","woocommerce-accommodation-bookings")),t.find(".fully_booked_start_days").addClass("ui-datepicker-unselectable ui-state-disabled"),t.find(".fully_booked_end_days").removeClass("ui-datepicker-unselectable ui-state-disabled"))})),t.addAction("wc_bookings_date_selected","wc_accommodation_booking/booking_form",(({fieldset:e,date_picker:t})=>{const a=s(e),_=c(s(t));let i="";d(n(e))&&(a.attr("data-selected-date-type",_),i="end"===_?(0,o.__)("Selected! Re-select to change your check-in date.","woocommerce-accommodation-bookings"):(0,o.__)("Select check-out","woocommerce-accommodation-bookings"),a.attr("data-content",i))})),t.addAction("wc_bookings_pre_calculte_booking_cost","wc_accommodation_booking/booking_form",(({form:e,date_picker:o})=>{const t=s(o),a=s(e),n=c(t);d(a)&&("end"===n?(a.find(".fully_booked_start_days").addClass("ui-datepicker-unselectable ui-state-disabled"),a.find(".fully_booked_end_days").removeClass("ui-datepicker-unselectable ui-state-disabled")):(a.find(".fully_booked_start_days").removeClass("ui-datepicker-unselectable ui-state-disabled"),a.find(".fully_booked_end_days").addClass("ui-datepicker-unselectable ui-state-disabled")))}))}(a())})();